1.

SELECT COUNT(id) FROM instance

2.

SELECT instc.id, met.cpu_load_percentage, met.http_load_percentage, met.created_at
FROM instance instc
INNER JOIN metric met
  ON instc.id = met.instance_id
WHERE met.created_at = (
  SELECT MAX(created_at)
  FROM metric
  WHERE instance_id = instc.id
);

3.

SELECT id, private_ip, private_dns_name, created_at FROM instance WHERE private_dns_name = "";
